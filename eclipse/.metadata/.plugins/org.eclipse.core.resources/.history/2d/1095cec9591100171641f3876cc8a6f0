import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.Scanner;
import com.google.gson.Gson;

public class Main {

	public static void main(String[] args) throws IOException {
		String json = "";
		URL oracle;
		try {
			oracle = new URL("http://api.reimaginebanking.com/customers?key=37eda199c5d3895687d139770b1d9c9a");
	        BufferedReader in = new BufferedReader(
	        new InputStreamReader(oracle.openStream()));
	
	        String inputLine;
	        while ((inputLine = in.readLine()) != null)
	            json = json + inputLine;
	        in.close();
		} catch (MalformedURLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		System.out.println(json + "\n\n");
		
		Customer customer = new Customer();
		customer.address.setCity("Madison");
		customer.setFirstName("Payton");
		Gson gson = new Gson();
		String test = gson.toJson(customer);
		
		Customer top = gson.fromJson(json, Customer.class);
		
		System.out.println(top.getFirstName());
		System.out.println(top.getLastName());
		System.out.println(top.getId());
		System.out.println(top.getAddress().getStreetName());
		System.out.println(top.getAddress().getStreetNumber());
		System.out.println(top.getAddress().getZip());
		System.out.println(top.getAddress().getState());
		 
	}

}
